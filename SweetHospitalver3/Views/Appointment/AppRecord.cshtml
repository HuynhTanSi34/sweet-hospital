
@{
    ViewBag.Title = "AppRecord";
    Layout = "~/Views/Shared/_Layout.cshtml";
    SweetHospitalver3.Models.HospitalDbContext bb = new SweetHospitalver3.Models.HospitalDbContext();
    SweetHospitalver3.Models.Answer tt = new SweetHospitalver3.Models.Answer();
}
<style>
    .chonhs {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
        align-content: center;
        padding-top: 50px;
    }

        .chonhs ul {
            list-style: none;
            padding: 0;
        }

    .chonhs-title {
        font-size: 18px;
        margin-bottom: 30px;
    }

    .chonhs-ul {
        font-size: 12px !important;
        min-width: 550px;
    }

    .chonhs-contentritem1 {
        text-transform: uppercase;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        padding: 10px 0 4px 0;
    }

        .chonhs-contentritem1 div {
            color: #06A3DA;
            font-size: 18px;
            font-weight: 500;
        }

    .chonhs-contentritem2 i, .chonhs-contentritem2 svg {
        height: 18px;
        width: 18px;
        margin-right: 5px;
        position: relative;
        top: -1px;
    }

    .chonhs-contentritem2 {
        display: flex;
        flex-direction: row;
        font-size: 15px;
        width: 100%;
        padding: 10px 0 10px 0;
    }

        .chonhs-contentritem2 div {
            min-width: 150px;
        }

    .chonhs-contentritem3 {
        border-top: 1px solid #06A3DA;
        margin-top: 10px;
        padding-top: 14px;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
        align-content: center;
    }

        .chonhs-contentritem3 a {
            width: 120px;
            color: white;
            background-color: #3699ff;
            text-decoration: none;
            text-align: center;
            height: 28px;
            padding: 5px;
            transition-duration: .3s;
            transition-property: transform;
            transition-timing-function: ease-out;
        }

            .chonhs-contentritem3 a:hover {
                cursor: pointer;
                background-color: #608FF0;
            }

        .chonhs-contentritem3 button {
            width: 120px;
            padding: 5px 0 5px 0;
            text-align: center;
            margin-right: 7px;
            border: none;
            background-color: white;
        }

            .chonhs-contentritem3 button:nth-child(1) {
                color: #fd397a;
            }

                .chonhs-contentritem3 button:nth-child(1):hover {
                    background-color: #fd397a;
                    color: white;
                }

            .chonhs-contentritem3 button:nth-child(2) {
                color: #3699ff;
            }

                .chonhs-contentritem3 button:nth-child(2):hover {
                    background-color: #3699ff;
                    color: white;
                }

    .chonhs-hien {
        border: 1px solid #06A3DA;
        padding: 20px 30px 20px 30px;
        border-radius: 5px;
    }

    .chonhs-footer {
        margin: 30px 0 80px 264px;
        width: 60%;
        border-top: 1px solid rgba(0,0,0,.06);
        padding-top: 50px;
        cursor: pointer;
        padding-left: 8px;
        font-weight: 600;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
        align-content: center;
    }

        .chonhs-footer svg {
            position: relative;
            top: -2px;
            margin-right: 5px;
        }

        .chonhs-footer a:nth-child(1) {
            color: inherit;
            text-decoration: none;
        }

            .chonhs-footer a:nth-child(1):hover {
                color: #06A3DA !important;
                text-decoration: underline !important;
            }

        .chonhs-footer a:nth-child(2) {
            color: white;
            text-decoration: none;
            padding: 10px 0 10px 15px;
            background: #06A3DA;
            width: 180px;
            border-radius: 10px;
            transition-duration: .3s;
            transition-property: transform;
            transition-timing-function: ease-out;
        }

            .chonhs-footer a:nth-child(2):hover, .chonhs-contentritem3 a:hover {
                transform: translateY(-5px);
                cursor: pointer;
            }

    .account-search {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        width: 100%;
    }

    .account-search2 {
        height: 40px !important;
        margin-left: 80px;
        border: 1px solid #EBF2F7 !important;
        border-radius: 5px;
        width: 30%;
    }

    .account-search3 {
        width: 20% !important;
        height: 40px !important;
    }

    .account-add1:hover {
        transform: translateY(-5px);
    }

    tr:hover {
        cursor: pointer;
    }

    .table-statusedit-circlegreen {
        height: 10px;
        width: 10px;
        background-color: #22FC00;
        border-radius: 50%;
        display: inline-block;
        margin-bottom: 2px;
        margin-right: 8px;
    }

    .table-statusedit-circlered {
        height: 10px;
        width: 10px;
        background-color: #FC0004;
        border-radius: 50%;
        display: inline-block;
        margin-bottom: 2px;
        margin-right: 8px;
    }

    .table-statusedit-circleyellow {
        height: 10px;
        width: 10px;
        background-color: #FCDB00;
        border-radius: 50%;
        display: inline-block;
        margin-bottom: 2px;
        margin-right: 8px;
    }

    .an {
        display: none;
    }

    .hien {
        display: block;
    }

    tr {
        align-items: center;
    }

    .formaddhoso {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        font-size: 16px;
        justify-content: center;
        align-content: center;
        padding-left: 25%;
        padding-right: 25%;
    }

        .formaddhoso .formaddhoso1 {
            font-weight: 600;
            padding: 50px 0 30px 0;
        }

        .formaddhoso form .form-item {
            display: flex;
            flex-direction: column;
            width: 100%;
            padding-right: 25px;
            margin-bottom: 25px;
        }

    .form-item sup {
        color: red;
    }

    .form-item label {
        font-size: 16px;
        font-weight: 500;
        margin-bottom: 8px;
    }

    .form-item input {
        padding: 8px 0 8px 10px;
        border-color: rgba(3,42,95,.1);
        border-radius: 10px;
    }

    .form-item select {
        padding: 8px 0 8px 10px;
        border-color: rgba(3,42,95,.1);
        border-radius: 10px;
    }

        .form-item input:focus, .form-item select:focus {
            outline: 1px solid #17FCFA;
        }

            .form-item input:focus::-moz-placeholder {
                color: blue;
            }

    form .dacbiet {
        width: 55%;
        margin-left: 50px;
    }
</style>
<div class="container-fluid bg-primary py-5 hero-header mb-5">
    <div class="row py-3">
        <div class="col-12 text-center">
            <h1 class="display-3 text-white animated zoomIn">Đặt lịch khám</h1>
            <a href="/Client/Home" class="h4 text-white">Trang chủ</a>
            <i class="far fa-circle text-white px-2"></i>
            <a href="#" class="h4 text-white">Đặt lịch khám theo Bác sĩ</a>
        </div>
    </div>
</div>
<div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
    @*@if (Model == null)
        {
            <div>Không có hồ sơ</div>
        }
        else
        {
            <section class="chonhs">
                <span class="chonhs-title"><strong>CHỌN LỊCH HẸN</strong></span>
                <div class="chonhs-ul">
                    <div id="hienthongtin1" class="chonhs-hien">
                        <ul>
                            <li class="chonhs-contentritem1">
                                <div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z" />
                                    </svg>   @Model.HoTen
                                </div>
                                <div></div>
                            </li>
                            <li class="chonhs-contentritem2">
                                <div>
                                    <i class="bi bi-calendar"></i> Ngày sinh
                                </div>
                                <span>@Model.NgaySinh</span>
                            </li>
                            <li class="chonhs-contentritem2">
                                <div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-phone" viewBox="0 0 16 16">
                                        <path d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z" />
                                        <path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                                    </svg> Điện thoại
                                </div>
                                <span>@Model.Sdt</span>
                            </li>
                            <li class="chonhs-contentritem2">
                                <div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gender-ambiguous" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M11.5 1a.5.5 0 0 1 0-1h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V1.707l-3.45 3.45A4 4 0 0 1 8.5 10.97V13H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V14H6a.5.5 0 0 1 0-1h1.5v-2.03a4 4 0 1 1 3.471-6.648L14.293 1H11.5zm-.997 4.346a3 3 0 1 0-5.006 3.309 3 3 0 0 0 5.006-3.31z" />
                                    </svg> Giới tính
                                </div>
                                <span>@Model.GioiTinh</span>
                            </li>
                            <li class="chonhs-contentritem2">
                                <div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-at" viewBox="0 0 16 16">
                                        <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z" />
                                        <path d="M14.247 14.269c1.01 0 1.587-.857 1.587-2.025v-.21C15.834 10.43 14.64 9 12.52 9h-.035C10.42 9 9 10.36 9 12.432v.214C9 14.82 10.438 16 12.358 16h.044c.594 0 1.018-.074 1.237-.175v-.73c-.245.11-.673.18-1.18.18h-.044c-1.334 0-2.571-.788-2.571-2.655v-.157c0-1.657 1.058-2.724 2.64-2.724h.04c1.535 0 2.484 1.05 2.484 2.326v.118c0 .975-.324 1.39-.639 1.39-.232 0-.41-.148-.41-.42v-2.19h-.906v.569h-.03c-.084-.298-.368-.63-.954-.63-.778 0-1.259.555-1.259 1.4v.528c0 .892.49 1.434 1.26 1.434.471 0 .896-.227 1.014-.643h.043c.118.42.617.648 1.12.648Zm-2.453-1.588v-.227c0-.546.227-.791.573-.791.297 0 .572.192.572.708v.367c0 .573-.253.744-.564.744-.354 0-.581-.215-.581-.8Z" />
                                    </svg> Địa chỉ Email
                                </div>
                                <span>@Model.Email</span>
                            </li>
                            <li class="chonhs-contentritem2">
                                <div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
                                        <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" />
                                    </svg> Dân tộc
                                </div>
                                <span>@Model.DanToc</span>
                            </li>
                            <li class="chonhs-contentritem2">
                                <div>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-signpost" viewBox="0 0 16 16">
                                        <path d="M7 1.414V4H2a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h5v6h2v-6h3.532a1 1 0 0 0 .768-.36l1.933-2.32a.5.5 0 0 0 0-.64L13.3 4.36a1 1 0 0 0-.768-.36H9V1.414a1 1 0 0 0-2 0zM12.532 5l1.666 2-1.666 2H2V5h10.532z" />
                                    </svg> Địa chỉ
                                </div>
                                <span>@Model.DiaChi</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

        }*@
    <section class="formaddhoso">
        <div class="formaddhoso1">CHỌN THÔNG TIN BÁC SĨ</div>
        <form>

            <div class="form-item">
                <label>Khoa <sup>*</sup></label>
                <select name="KhoaBS" id="KhoaBS" required onchange="getBS()">
                    <option>Chọn khoa</option>
                    @foreach (var items in bb.DSKHOA)
                    {
                        <option value="@items.Khoa">@items.Khoa</option>
                    }
                </select>
            </div>
            <h1>
            </h1>
            <div class="form-item">
                <label>Bác sĩ <sup>*</sup></label>
                <select name="TenBS" id="TenBS" required @*onchange="getNgay()*@>
                    @foreach (var items in bb.BACSI@*.Where(x => x.Khoa == Model.idKhoa)*@)
                    {
                        <option value="@items.MaBS">@items.HoTen</option>
                    }
                </select>
            </div>


            <div class="form-item">
                <label>Ngày <sup>*</sup></label>
                <select name="GioBS" id="cars" required>
                    <option value="ALL">Chọn vấn đề</option>

                </select>
            </div>
            <div class="form-item">
                <label>Giờ <sup>*</sup></label>
                <select name="GioBS" id="cars" required>
                    <option value="ALL">Chọn vấn đề</option>
                    <option value="Nam">Nam</option>
                    <option value="Nu">Nữ</option>
                </select>
            </div>
            <div class="form-item">
                <button class="btn btn-primary py-2 px-4 ms-3 dacbiet" type="submit">Tạo hồ sơ</button>
            </div>
        </form>
    </section>
</div>
<script>
    //let dKhoa =
    //document.getElementById("KhoaBS").addEventListener("change", () => {
    //    console.log(document.getElementById("KhoaBS").value);
    //});


    async function getBS() {
        let dataKhoa = document.getElementById("KhoaBS").value;
        console.log(dataKhoa)
        let data = await fetch(`/Appointment/AppRecord`, {
            method: 'POST',
            headers: {
                'Content-type': 'application/json',
            },
            body: JSON.stringify({
                id: dataKhoa,
            })
        })
        console.log(data);
    }
    @*function getNgay() {
        if (dataKhoa == "") {
            return <option>Chọn Bác sĩ</option>;
        }
        else {
            return @foreach (var items in bb.BACSI.Where(x=>x.Khoa == dKhoa))
            {
    <option value="@items.HoTen">@items.HoTen</option>
            }
        }
    }*@
</script>


